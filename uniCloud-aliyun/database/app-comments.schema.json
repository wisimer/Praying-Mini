{"bsonType":"object","required":["relevance_id","user_id","author_id","comment_content","comment_type"],"permission":{"read":true,"create":"auth.uid != null","update":"auth.uid != null","delete":"doc.user_id == auth.uid"},"properties":{"_id":{"description":"存储文档 ID（文章 ID），系统自动生成"},"relevance_id":{"bsonType":"string","description":"文章ID","foreignKey":"app-dynamic._id"},"author_id":{"bsonType":"string","description":"动态作者ID，参考`uni-id-users` 表"},"user_id":{"bsonType":"string","description":"评论者ID，参考`uni-id-users` 表","forceDefaultValue":{"$env":"uid"},"foreignKey":"uni-id-users._id"},"comment_content":{"bsonType":"string","description":"评论内容","title":"评论内容","trim":"right"},"state":{"bsonType":"int","description":"状态：0 未读  1 已读","defaultValue":0},"comment_type":{"bsonType":"int","description":"回复类型： 1 针对文章的回复  2 针对评论的回复"},"reply_comment_id":{"bsonType":"string","description":"被回复的评论ID，comment_type为2时有效","parentKey":"_id"},"reply_user_id":{"bsonType":"string","description":"被回复用户ID，comment_type为2时有效"},"comment_date":{"bsonType":"timestamp","description":"评论发表时间","forceDefaultValue":{"$env":"now"}}},"version":"0.0.1"}